FROM ubuntu:focal

MAINTAINER Fatih Nar <fenari@gmail.com>

ENV DEBIAN_FRONTEND noninteractive

USER root

RUN apt-get update && \
   apt-get -yq dist-upgrade && \
   apt-get --no-install-recommends -qqy install make g++ libsctp-dev lksctp-tools iproute2 python3-pip python3-setuptools \
   cmake --classic \
   python3-wheel ninja-build build-essential flex bison git libsctp-dev libgnutls28-dev libgcrypt-dev libssl-dev \
   libidn11-dev libmongoc-dev libbson-dev libyaml-dev libmicrohttpd-dev libcurl4-gnutls-dev meson iproute2 libnghttp2-dev \
   iptables iputils-ping tcpdump cmake curl gnupg meson && \ 
   git clone --recursive -b v2.2.2 https://github.com/aligungr/UERANSIM && \
   cd UERANSIM && make
   cd build

WORKDIR /
